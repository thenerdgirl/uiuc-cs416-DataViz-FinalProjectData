<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="css/bootstrap.min.css">
  <link rel="icon" type="image/png" href="img/fruit.png">
  <script src="js/d3.min.js"></script>
  <script src="js/index.js"></script>
  <title>Naomi Bhagat - Fruit Prices 2020</title>
</head>

<body onload="init()">
  <div class="container my-5">
    <!-- Titles -->
    <h1 class="display-1 text-center">All About Fruits!</h1>
    <h1 class="h2 text-center">UIUC CS416 Narrative Visualization Project</h1>
    <h1 class="h3 text-center">Naomi Bhagat</h1>
    <br>
    <!-- Introduction to Narrative Vizualization -->
    <br>
    <p class="text-center">2020 was a weird year.</p>
    <p>
      Covid-19 sent everyone indoors, disrupted plans, and changed the world in ways that may never be seen again. Lots of people were afriad to even set food outside, let alone
      inside a grocery store. But, if you did manage to work up the courage to buy food for yourself and your family, you would definitely be putting some fruit in your cart! So,
      what were some of the prices you might have seen on those touchless screens during 2020? Keep scrolling for an investigation into fruit prices for the weirdest year of our
      lives (so far).
    </p>
    <br>
    <!-- Scene 1: Pie Chart of where all of our fruits come from in the US -->
    <br>
    <h3 class="text-center">Where do our Fruits Come From?</h3>
    <p>
      Let's start basic. Where do Americans get their fruits from? I'm pretty sure all of us know that our peaches come from Georgia (thanks Justin Beiber!) and our oranges are
      from somewhere in Florida. But do you know where your watermelons come from? How about your strawberries? The only reason I know that cranberries are grown in Wisconsin is 
      because I lived there for 16 years! This pie chart describes the regions from which our fruit comes into the United States. The colors in the pie chart correspond to the
      United States regions map shown on the right.
    </p>
    <div class="container" style="text-align: center">
      <div class="row">
        <div class="col-sm" style="text-align: center">
          <svg id="pie-chart" width=300 height=300></svg>
        </div>
        <div class="col-sm">
          <img src="img/UnitedStatesRegions.jpg" class="img-fluid">
        </div>
      </div>
    </div>
    <br>
    <p>
      From the above charts, we can see that of the fresh fruit included in this dataset, the vast majority of fruit grown in the United States comes from either the West Coast
       - specifically, California, Oregon, and Washington - and the Southern region. Some fruits, such as mangoes and papayas, are grown exclusively in Hawaii. Others, such as
       the tart cherries often enjoyed as a light snack, are from the humble Midwestern state of Michigan.
    </p>
    <!-- Scene 2: Average Price of Fruit per Pound/Pint per season -->
    <br>
    <h3 class="text-center">Average Price of Fruit per Season</h3>
    <p>
      Okay, now we know that fruits don't come from the stork. Now, let's take a look at which fruits are in season when. Covid-19 stretched on for more than one full year, so
      all of these fine fruits would have been in season at some point during the pandemic. Which ones were the priciest? In this chart, we explore the four seasons, and plot the
      average price per fruit per pound or pint (depending on if they are solid or liquid) against each fruit's respective seasons.
    </p>
    <!--  TODO we need to absolutely figure out what an annotation is...the fruits include din each season would be a great annotation! -->
    <div style="text-align: center">
      <svg id="bar-chart" width=500 height=550></svg>
    </div>
    <script>
      async function init() {
        const data = await d3.csv('https://raw.githubusercontent.com/thenerdgirl/uiuc-cs416-DataViz-FinalProject/main/FruitPricesPerSeason.csv');
        var x = d3.scaleBand().domain(['Spring','Summer','Fall','Winter']).range([0,400]);
        var y = d3.scaleLinear().domain([0,3]).range([400,0]);
        var c = ["yellow","green","orange","blue"]
        d3.select("#bar-chart")
            .append("g")
                .attr("transform","translate(50,50)")
            .selectAll("rect")
            .data(data)
            .enter()
            .append("rect")
                .attr("x",function(d,i) { return x.bandwidth()*i; })
                .attr("y",function(d) { return y(d.AvgPrice); })
                .attr("width",x.bandwidth())
                .attr("height",function(d,i) { return 400 - y(d.AvgPrice); })
                .attr("fill",function(d,i) { return c[i]; })
        d3.select("#bar-chart")
            .append("g")
            .attr("transform","translate(50,50)")
            .call(d3.axisLeft(y));
        d3.select("#bar-chart")
            .append("g")
            .attr("transform","translate(50,450)")
            .call(d3.axisBottom(x));
        
        // Axis labels
        d3.select("#bar-chart")
            .append("text")
                .attr("x", 250)
                .attr("y", 500)
                .style("text-anchor","middle")
                .text("Season");
        
        d3.select("#bar-chart")
            .append("text")
                .attr("transform","rotate(-90)")
                .attr("y", -5)
                .attr("x", 0 - 250)
                .attr("dy", "1em")
                .style("text-anchor","middle")
                .text("Retail Price per Unit ($)");
      }
    </script>
    <!-- Scene 3: User interactive scatterplot -->
    <br>
    <h3 class="text-center">Retail Price of Fruit</h3>
    <p>
      This is where I leave you to explore on your own. We now know all about where our fruits come from and what the most expensive season to buy them is. I promised to give you
      information about the price of fruit, and that information is right here! The scatterplot below shows the average retail price for each fruit per pound or pint. Click on the
      buttons below to see differences between fresh fruit, canned fruit, dried fruit, and fruit juice. I hope you have enjoyed this narrative visualization. If you happen to come
      across this project, please shoot an email to my professor and TAs and let them know that I've done a dynamite job informing you all about fruits in 2020! Happy fruiting!
    </p>
    <div style="text-align: center">
      <svg id="scatterplot" width=500 height=550></svg>
    </div>
    <div class="text-center">
      <div class="btn-group" role="group">
        <button type="button" onclick="getScatterplot('fresh')" class="btn btn-outline-primary">Fresh</button>
        <button type="button" onclick="getScatterplot('frozen')" class="btn btn-outline-primary">Frozen</button>
        <button type="button" onclick="getScatterplot('dried')" class="btn btn-outline-primary">Dried</button>
        <button type="button" onclick="getScatterplot('canned')" class="btn btn-outline-primary">Canned</button>
        <button type="button" onclick="getScatterplot('juice')" class="btn btn-outline-primary">Fruit Juice</button>
      </div>
    </div>
    <br>
  </div>
  <script src="js/bootstrap.bundle.min.js"></script>
</body>

</html>